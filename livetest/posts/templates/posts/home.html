{% extends "posts/base.html" %}

{% block content %}
    <h1>Global Feed</h1>
    {% for post in posts %}
        <div class="post">
            <h3>{{ post.user.username }}</h3>
            <p>{{ post.content }}</p>
            {% if post.image %}
                <img src="{{ post.image.url }}" alt="Post image" style="max-width: 300px;">
            {% endif %}
            <small>{{ post.created_at }}</small>
        </div>
    {% endfor %}
{% endblock %}

<div class="card mb-4">
    <div class="card-body">
        <form method="get" class="row g-3">
            <!-- Search -->
            <div class="col-md-4">
                {{ form.search }}
            </div>
            
            <!-- Author Filter -->
            <div class="col-md-3">
                {{ form.author }}
            </div>
            
            <!-- Media Type -->
            <div class="col-md-3">
                {{ form.media_type }}
            </div>
            
            <!-- Sort -->
            <div class="col-md-2">
                {{ form.sort }}
            </div>
            
            <div class="col-md-12">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-filter"></i> Apply Filters
                </button>
                <a href="{% url 'home' %}" class="btn btn-secondary">
                    Clear Filters
                </a>
            </div>
        </form>
    </div>
</div>